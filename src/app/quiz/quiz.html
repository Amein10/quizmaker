<div class="page">
  <div class="card">
    <header class="top">
      <div class="title">üß© Quizmaker</div>
      <div class="meta">
        Sp√∏rgsm√•l {{ currentQuestionIndex + 1 }} / {{ questions.length }}
      </div>
      <div class="progress">
        <div class="bar" [style.width.%]="progressPct"></div>
      </div>
    </header>

    <main class="content" *ngIf="!isLast || !answered; else finishedBlock">
      <h2 class="question">{{ q.question }}</h2>

      <ul class="options">
        <li *ngFor="let a of q.answers">
          <button
            class="opt"
            [class.correct]="answered && a === q.correct"
            [class.wrong]="answered && selectedAnswer === a && a !== q.correct"
            [disabled]="answered"
            (click)="selectAnswer(a)">
            {{ a }}
          </button>
        </li>
      </ul>

      <div class="feedback" *ngIf="answered">
        <span *ngIf="selectedAnswer === q.correct" class="ok">‚úÖ Korrekt!</span>
        <span *ngIf="selectedAnswer !== q.correct" class="bad">
          ‚ùå Forkert. Rigtigt svar er <strong>{{ q.correct }}</strong>.
        </span>
      </div>

      <div class="actions">
        <button class="next" (click)="nextQuestion()" *ngIf="!isLast">N√¶ste</button>
        <button class="next" (click)="nextQuestion()" *ngIf="isLast && !answered" disabled>N√¶ste</button>
      </div>
    </main>

    <ng-template #finishedBlock>
      <div class="result">
        <h3>üéâ Du har gennemf√∏rt quizzen!</h3>
        <p>Score: <strong>{{ score }}</strong> / {{ questions.length }}</p>
        <button class="next" (click)="restart()">Pr√∏v igen</button>
      </div>
    </ng-template>
  </div>
</div>
